#
#  Discord Sequence File
#
#  This file will run with discord 2.0.0 and above.
#
#  Anything after two hash marks (#) will be printed to stderr, if you want to watch parse progress
#
#  Options
#
#      case 'a':  // audio device to set as hardware through which to route playback.
#                     Discord will use only hardware frame rates, so no resampling will occur, though
#                     the sound format will be converted by alsa to match that of the card.
#                     If this is not specified, discord will open the default audio device as a plughw plugin.
#                     At a command line run the command "aplay -lLv" to find out more information about
#                     your sound card(s) and their devices.  That is not a 1, but a lowercase L.
#                     See "man aplay" or "pinfo aplay".
#--audio_device=plughw:0,0  # first card, first device, usually analog out
#-a plughw:0,1  # first card, second device, usually digital out, IEC958
#
#      case 'b':  // bit accuracy of sound generated, 16i, 24i, 32i, 32f, 64f, int and float
#                     Relevant only when sending output to a file.  All internal processing is 
#                     done using doubles regardless.
#--bit_accuracy=16i
#-b 16i
#
#      case 'c':  // Compensate for human hearing, low and high freqs need to be louder
#                    to have the same subjective loudness to the human ear.
#                    If this is set correctly, a sound at the compensated frequency
#                    sounds the same loudness as any other sound at its
#                    compensated frequency.  i.e. It linearizes the range
#                    This is individual, depends on your hearing, so the below is only a starting
#                    point for you to play with and tweak.  It has a max of 32 points.
#                    There is some dispute whether sounds outside the range of hearing
#                    have any effect.  Of course, that is dependent on
#                    whether those sounds even get to your ears through the system.  This
#                    applies to the internally generated sounds: binaural, chronaural, bell, noise.
#                    If you use compensation, set all amplitudes to a fixed value.
#                    Or whatever ratio between the loudness you want them to have, as if linear.
#                    The stochastic, sample, repeat and once voices are not compensated so should be
#                    set at the amplitude you want.
#--compensate=5=9''10=6.2''20=4.6''30=3.4''40=2.4''50=1.6''60=1.4
#--compensate=80=1.3''100=1.2''200=1.2''300=1.2'''400:1.1''500:1
#--compensate=600:1''700=1''800=1''900=1''1000=1''2000=1''3000=1
#--compensate=5000=1.0''7000=1.1'',,,9000:1.3,,10000:1.5,,12000:1.5
#--compensate=13000=3,,16000=5.0,,17000=6.5,,18000=7.5,,19000=8.0,,20000=9.0
-c 5=9''10=6.2''20=4.6''30=3.4''40=2.4''50=1.6''60=1.4''80=1.3''100=1.2
-c 200=1.2''300=1.2'''400:1.1''500:1''600:1''700=1''800=1
-c 900=1''1000=1''2000=1''3000=1''5000=1.0''7000=1.1'',,,9000:1.3
-c 10000:1.5,,12000:1.5,,13000=3,,16000=5.0,,17000=6.5
-c 18000=7.5,,19000=8.0,,20000=9.0
#
#
#      case 'd':  // display only
#--display_only
#-d
#
#      case 'e':  // every, display status every x seconds
#--every=10
-e 5
#
#      case 'f':  // fast, move through at multiple of time, 60 ==> 1min becomes 1 sec
#                    so a 1 hour play sequence will play in 1 minute
#--fast=60
#-f 60
#
#      case 'h':  // help
#--help
#-h
#
#      case 'k':  // keep generated resampled sound files if any
#--keep
#-k
#
#      case 'o':  // output file format, w:wav, f:flac, r:raw, no point to lossy
#--out_format=f
#-o f
#
#      case 'q':                // quiet, don't display status while running
#--quiet
#-q
#
#      case 'r':  // frame rate per second, whatever your card can do, 44100 is CD quality
#                    Higher rates are beneficial on binaurals at high frequencies,
#                    say 15000 Hz and above.  For low frequencies, 44100 just fine.
#--rate=44100
-r 44100
#
#      case 'w':  // write to file instead of the default, playing via the sound card
#--write=mindblowing.wav  # same as ./mindblowing.wav, will write in current directory
#-w  /home/clover/discord/mindblowing.flac
#
#  A time sequence may span multiple lines, but a voice (binaural, bell, noise, etc.)
#  cannot be split across lines.
#
#  Time Sequences
#
#  Separators allowed are | , ; ' =, multiples are allowed mixed with singles, any combination
#  of separators even within a voice.
#  However, every voice must be joined by separators.  No white space is allowed.
#  The < or > after the duration/time is a fade in <, or fade out > for that time sequence.
#  The > after a binaural or chronaural voice is a slide, and will adjust to be the next binaural or chronaural at the
#  end of the time period.
#  The & with number of steps, slide time, and fuzz is a step slide, and will adjust to be the 
#  next binaural or chronaural at the end of the time period in a sequence of descending steps.
#  The ~ with number of steps and slide time is a vary slide, and will adjust to be the 
#  next binaural or chronaural at the end of the time period in a sequence of random steps.
#  All amplitudes are in percentages, 0 is none, 100 is max.
#  All splits are expressed as fraction for Left channel.  e.g. .3 means .3 left channel, .7 right channel
#  All durations in voices are expressed as seconds.  e.g. .3 = .3 second, 20 = 20 seconds, 1200 = 20 minutes
#  For any fields with a minimum and maximum range, setting them the same makes it a constant value.  Any time 
#    they are different, a random selection in the range will be made.
#
#  Fields for binaural are name, carrier frequency, beat frequency, amplitude.
#    Optional fields are a left and right amplitude frequency variation and a left and right percentage to vary.
#    Must be at the end, before the slide indicator if they are present.
#    The + or - on the beat frequency indicates whether the left ear is higher + or lower -.
#    The beat is centered on the carrier frequency, so 200  +4 results in L 202 and R 198.
#    Slide indicator must be present for a slide to occur, can be continuous slide ">", step slide "&",
#    or vary slide "~".  Step slide must have number of steps, slide time, and fuzz after it.  Vary slide must
#    have number of steps and slide time after it.
#
#  Fields for bell are name, frequency, minimum start amplitude, maximum start amplitude, beginning split, ending split,
#    lowest split allowed, highest split allowed, minimum time allowed to ring, maximum time allowed to ring,
#    minimum time till next ring, maximum time till next ring, and decay pattern for the ring, 1 through 5.
#    1 decrease linearly to 0
#    2 decrease linearly to .5, 
#    3 constant,
#    4 increase linearly to 1.1
#    5 decrease quadratically to 0  (this is the most natural sounding)
#    The minimum and maximum time till next play are relative to the beginning of the last play. i.e. unlike noise,
#      bell will interrupt itself.  The bell can start ringing again before the current ring has finished.  
#      It displaces the currently ringing bell.
#    If beginning split or ending split are -1, they are set randomly between lowest split and highest split.
#
#  Fields for noise are name, minimum start frequency, maximum start frequency, minimum start amplitude, 
#    maximum start amplitude, beginning split, ending split,
#    lowest split allowed, highest split allowed, minimum time allowed to play, maximum time allowed to play,
#    minimum time till next play, maximum time till next play, minimum decay pattern for the play, 1 through 5.
#    maximum decay pattern for the play, 1 through 5, and the number of repeats.
#    1 decrease linearly to 0
#    2 decrease linearly to .5, 
#    3 constant,
#    4 increase linearly to 1.1
#    5 increase linearly  to 1.25
#    If beginning split or ending split are -1, they are set randomly between lowest split and highest split.
#    Minimum decay has to be less than maximum decay or unpredicable behavior results.
#    The minimum and maximum time till next play are relative to the end of the last play. i.e. unlike bell,
#      noise will never interrupt itself.  The next voice in a slot will never start playing until after the 
#      current voice has finished.
#    If there is no repeat on the end, 1 is the default.
#
#  Fields for stoch are name, file name, minimum amplitude, maximum amplitude, beginning split, ending split,
#    lowest split allowed, highest split allowed, minimum time till next play, maximum time till next play.
#    If beginning split or ending split are -1, they are set randomly between lowest split and highest split.
#
#  Fields for sample are name, file name, minimum amplitude, maximum amplitude, beginning split, ending split,
#    lowest split allowed, highest split allowed, and length of the sample (constant in seconds).
#    If beginning split or ending split are -1, they are set randomly between lowest split and highest split.
#
#  Fields for repeat are name, file name, minimum amplitude, maximum amplitude, beginning split, ending split,
#    lowest split allowed, highest split allowed.
#    If beginning split or ending split are -1, they are set randomly between lowest split and highest split.
#
#  Fields for once are name, file name, minimum amplitude, maximum amplitude, beginning split, ending split,
#    lowest split allowed, highest split allowed, when to play.
#    If beginning split or ending split are -1, they are set randomly between lowest split and highest split.
#
#  Fields for chronaural are name, carrier, beat, amplitude, phase, sin threshold, beat behave, 
#    beginning split, ending split, lowest split allowed, highest split allowed, split beat, and slide.
#    Beat is the frequency through time of the carrier tone.
#    Phase is the degrees that the right channel is leading the left channel, between 0 and 360.
#    Sin threshold is the value the sin function has to have before the tone is played.
#    Beat amplitude behavior is below.
#      1 sin wave  tone is adjusted by sin value
#      2 square wave  tone is either on or off
#      3 dirac delta approximation, 5th power of sin
#      4 extreme dirac delta approximation, 15th power of sin
#    If beginning split or ending split are -1, they are set randomly between lowest split and highest split.
#    Split beat is the frequency through time of the oscillation of the left and right split.
#    Slide indicator must be present for a slide to occur, can be continuous slide ">", step slide "&",
#    or vary slide "~".  Step slide must have number of steps, slide time, and fuzz after it.  Vary slide must
#    have number of steps and slide time after it.
#
#  Fields for pulse are name, carrier, pulse beat, amplitude, phase, phase, pulse time,
#    beginning split, ending split, lowest split allowed, highest split allowed, split beat, and slide.
#    Pulse beat is the frequency through time of the carrier tone.
#    Phase is the degrees that the right channel is leading the left channel, between 0 and 360.
#    Phase is the degrees that the right channel is leading the left channel, between 0 and 360.
#    Pulse time is the length in seconds that the carrier should play for a pulse.  There is a 1 ms fade out
#      so it should be longer than that.  If it is longer than 1/pulse beat it will play continuously.  It is
#      a simple on-off tone, square wave.
#    If beginning split or ending split are -1, they are set randomly between lowest split and highest split.
#    Split beat is the frequency through time of the oscillation of the left and right split.
#    Slide indicator must be present for a slide to occur, can be continuous slide ">", step slide "&",
#    or vary slide "~".  Step slide must have number of steps, slide time, and fuzz after it.  Vary slide must
#    have number of steps and slide time after it.
#
#  Fields for phase are name, carrier frequency, beat frequency, amplitude, and phase.
#    Beat frequency is the number of times per second that the phase shifts between 0 and the current phase.
#    Phase is the phase difference in degrees between the left and right channel, from 0 to 360.
#    If beat frequency is +ve, it is the amount the right channel leads the left.
#    If beat frequency is -ve, it is the amount the left channel leads the right.
#    Optional fields are a left and right amplitude frequency variation and a left and right percentage to vary.
#    Must be at the end, before the slide indicator if they are present.
#    Slide indicator must be present for a slide to occur, can be continuous slide ">", step slide "&",
#    or vary slide "~".  Step slide must have number of steps, slide time, and fuzz after it.  Vary slide must
#    have number of steps and slide time after it.
#
#  At the border between alpha and beta beat frequencies.
#
# Fade in
#
00:00:10'''<  
               binaural''''200.0''''+16.3''''0.520''''4.50''''4.50''''2.0''''2.0
               binaural''''200.0''''-16.3''''0.520''''4.50''''4.50''''2.0''''2.0
  chronaural''''200.0''''16.3''''0.40''''0000.0000''''0.95''''3''''0.0''''1.0''''.001''''.999''''16.001
  chronaural''''200.0''''16.3''''0.40''''0000.0000''''0.95''''3''''0.0''''1.0''''.001''''.999''''15.999
#
# Play vary
#
00:02:00  
               binaural''''200.0''''+16.3''''0.620''''4.50''''4.50''''2.0''''2.0''''~''''4''''10
               binaural''''200.0''''-16.3''''0.620''''4.50''''4.50''''2.0''''2.0''''~''''4''''10
  chronaural''''200.0''''16.3''''0.40''''0000.0000''''0.95''''3''''0.0''''1.0''''.001''''.999''''16.001''''~''''4''''10
  chronaural''''200.0''''16.3''''0.40''''0000.0000''''0.95''''3''''0.0''''1.0''''.001''''.999''''15.999''''~''''4''''10
#
# Fade out
#
00:00:10'''>  
               binaural''''100.0''''+12.3''''0.420''''14.50''''14.50''''2.0''''2.0
               binaural''''100.0''''-12.3''''0.420''''14.50''''14.50''''2.0''''2.0
  chronaural''''100.0''''12.3''''0.60''''0000.0000''''0.95''''3''''0.0''''1.0''''.001''''.999''''11.999
  chronaural''''100.0''''12.3''''0.60''''0000.0000''''0.95''''3''''0.0''''1.0''''.001''''.999''''12.999
